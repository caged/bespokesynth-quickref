<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>BespokeSynth Quick Reference</title>
</head>

<body class="bg-gray-900 text-gray-50">
  <div class="mx-auto max-w-7xl">
    <header class="flex p-5 bg-gray-900 border-b border-gray-800 text-white">
      <h1 class="text-xl font-bold">BespokeSynth Quick Reference</h1>
    </header>
    <div class="md:flex w-full">
      <aside class="md:flex-shrink-0 border-r border-gray-800">
        <% it.modules.forEach(({name, slug})=> { %>
          <div class="border-b border-gray-700">
            <h2 class="flex gap-1 p-3 font-bold capitalize">
              <span class="<%= slug %>">//</span>
              <%= name %>
            </h2>
            <ul>
              <% it.docs[slug].forEach((module)=> { %>
                <li>
                  <a class="flex gap-1 p-3  text-gray-300 hover:text-white" href="#<%= module.slug %>">
                    <span class="<%= slug %>">//</span>
                    <span class="flex-1">
                      <%= module.name %>
                    </span>
                    <span class="flex gap-2 text-gray-700">
                      <svg xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4 <%= module.canReceiveAudio ? 'receives-audio' : ''%>" viewBox="0 0 20 20"
                        fill="currentColor">
                        <% if(module.canReceiveAudio) { %>
                          <title>Can receive audio</title>
                          <% } %>
                            <path fill-rule="evenodd"
                              d="M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z"
                              clip-rule="evenodd" />
                      </svg>
                      <svg xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4 <%= module.canReceiveNote ? 'receives-note' : ''%>" viewBox="0 0 20 20"
                        fill="currentColor">
                        <% if(module.canReceiveNote) { %>
                          <title>Can receive note</title>
                          <% } %>
                            <path
                              d="M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z" />
                      </svg>
                      <svg xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4 <%= module.canReceivePulses ? 'receives-pulses' : ''%>" viewBox="0 0 20 20"
                        fill="currentColor">
                        <% if(module.canReceivePulses) { %>
                          <title>Can receive pulses</title>
                          <% } %>
                            <path fill-rule="evenodd"
                              d="M5.05 3.636a1 1 0 010 1.414 7 7 0 000 9.9 1 1 0 11-1.414 1.414 9 9 0 010-12.728 1 1 0 011.414 0zm9.9 0a1 1 0 011.414 0 9 9 0 010 12.728 1 1 0 11-1.414-1.414 7 7 0 000-9.9 1 1 0 010-1.414zM7.879 6.464a1 1 0 010 1.414 3 3 0 000 4.243 1 1 0 11-1.415 1.414 5 5 0 010-7.07 1 1 0 011.415 0zm4.242 0a1 1 0 011.415 0 5 5 0 010 7.072 1 1 0 01-1.415-1.415 3 3 0 000-4.242 1 1 0 010-1.415zM10 9a1 1 0 011 1v.01a1 1 0 11-2 0V10a1 1 0 011-1z"
                              clip-rule="evenodd" />
                      </svg>
                    </span>
                  </a>
                </li>
                <% }) %>
            </ul>
          </div>
          <% }) %>
      </aside>
      <main class="w-full">
        <% it.modules.forEach(({name, slug})=> { %>
          <div class="border-b border-gray-700">
            <h2 class="flex gap-1 px-8 py-4 font-bold capitalize">
              <span class="<%= slug %>">//</span>
              <%= name %>
            </h2>
            <% it.docs[slug].forEach((module)=> { %>
              <div class="px-8 mb-10 text-gray-200">
                <h3 id="<%= module.slug %>" class="flex gap-1 py-2 font-bold text-white">
                  <span class="<%= slug %>">//</span>
                  <%= module.name %>
                </h3>
                <div class="text-sm text-gray-300">
                  <p class="pb-2 text-gray-400">
                    <%= module.description %>
                  </p>
                  <div>
                    <% if(module.controls) { %>
                      <table class="text-xs">
                        <% Object.entries(module.controls).forEach(([name, desc])=> { %>
                          <% if(desc.length> 0) { %>
                            <tr class="">
                              <th class="pr-2 py-3 text-left font-normal font-mono text-gray-100">
                                <span class="border-b border-gray-600">
                                  <%= name %>
                                </span>
                              </th>
                              <td class="p2 leading-relaxed">
                                <%= desc %>
                              </td>
                            </tr>
                            <% } %>
                              <% }) %>
                      </table>
                      <span class="text-xs text-gray-500">
                        <%= Object.entries(module.controls).filter(p=> p[1].length === 0).join(' ') %>
                      </span>
                      <% } %>
                  </div>
                </div>
              </div>
              <% }) %>
          </div>
          <% }) %>
      </main>
    </div>
  </div>
</body>

</html>